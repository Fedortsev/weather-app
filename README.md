# Weather App

Веб-додаток для відстеження погоди в обраних містах. Реалізовано на Next.js з використанням Redux Toolkit для управління станом та OpenWeatherMap API для отримання даних про погоду.

## Основний функціонал

Додаток дозволяє користувачам додавати міста до списку відстеження та переглядати актуальну інформацію про погоду. Дані зберігаються локально, тому список міст залишається після перезавантаження сторінки. Для кожного міста доступна детальна інформація з прогнозом температури на найближчі 24 години.

Основні можливості:

- Додавання та видалення міст зі списку відстеження
- Перегляд поточної температури, відчуття температури, вологості та швидкості вітру
- Детальна сторінка з додатковою інформацією про погоду
- Графік прогнозу температури на 24 години
- Ручне оновлення даних для окремого міста
- Автоматичне збереження списку міст у localStorage
- Адаптивний дизайн для різних пристроїв

## Технології

Проект побудований на сучасному стеку технологій:

**Frontend:**

- Next.js 15 - фреймворк для React з підтримкою SSR
- React 19 - бібліотека для побудови інтерфейсу
- TypeScript - типізована надбудова над JavaScript
- SCSS - препроцесор для стилів

**Управління станом:**

- Redux Toolkit - сучасний підхід до роботи з Redux
- RTK Query - інструмент для роботи з API запитами

**UI компоненти:**

- Material UI v7 - бібліотека готових компонентів
- MUI X Charts - графіки для візуалізації даних

**Тестування:**

- Jest - фреймворк для тестування
- Testing Library - бібліотека для тестування React компонентів

**Інструменти розробки:**

- ESLint - лінтер для перевірки коду
- Prettier - форматування коду

## Початок роботи

### Встановлення

Спочатку потрібно встановити всі залежності проекту:

```bash
npm install
```

### Налаштування API ключа

Для роботи додатку потрібен API ключ від OpenWeatherMap. Його можна отримати безкоштовно на офіційному сайті:

1. Зареєструйтеся на https://openweathermap.org/api
2. Створіть API ключ у особистому кабінеті
3. Створіть файл `.env.local` у корені проекту
4. Додайте в нього наступний рядок:

```env
NEXT_PUBLIC_WEATHER_API_KEY=ваш_api_ключ
```

Зверніть увагу, що новий API ключ може активуватися протягом кількох годин після створення.

### Запуск у режимі розробки

```bash
npm run dev
```

Додаток буде доступний за адресою http://localhost:3000

### Збірка для production

```bash
npm run build
npm start
```

## Тестування

Проект покритий тестами для основних компонентів та функцій. Використовується Jest разом з Testing Library.

Запуск тестів:

```bash
# Одноразовий запуск всіх тестів
npm test

# Режим спостереження (watch mode)
npm run test:watch

# Генерація звіту про покриття коду
npm run test:coverage

# Запуск у CI режимі
npm run test:ci
```

Поточне покриття тестами складає близько 77% для основних модулів. Детальніша інформація про тестування знаходиться у файлі TESTING.md.

## Структура проекту

```
weather-app/
├── src/
│   ├── app/                    # Основна частина Next.js додатку
│   │   ├── city/[name]/       # Сторінка з деталями про місто
│   │   ├── icon.svg           # Іконка додатку
│   │   ├── layout.tsx         # Кореневий layout
│   │   ├── page.tsx           # Головна сторінка
│   │   └── globals.css        # Глобальні стилі
│   │
│   ├── components/            # React компоненти
│   │   ├── AddCityForm/       # Форма для додавання міста
│   │   ├── CityCard/          # Картка з інформацією про місто
│   │   └── Providers.tsx      # Обгортка для Redux Provider
│   │
│   ├── store/                 # Redux store та конфігурація
│   │   ├── weatherApi.ts      # API запити через RTK Query
│   │   ├── citiesSlice.ts     # Slice для управління містами
│   │   ├── store.ts           # Конфігурація store
│   │   └── hooks.ts           # Типізовані хуки для Redux
│   │
│   ├── types/                 # TypeScript типи
│   │   └── weather.ts         # Типи для погодних даних
│   │
│   ├── utils/                 # Допоміжні функції
│   │   └── localStorage.ts    # Робота з localStorage
│   │
│   └── __mocks__/             # Моки для тестів
│       ├── api/               # Мокані API відповіді
│       ├── data/              # Тестові дані
│       ├── navigation/        # Моки для роутера
│       └── store/             # Моки для store
│
├── .github/
│   └── workflows/             # GitHub Actions для CI/CD
│
├── public/                    # Статичні файли
├── jest.config.ts             # Конфігурація Jest
├── jest.setup.ts              # Налаштування тестового оточення
├── next.config.ts             # Конфігурація Next.js
├── tsconfig.json              # Конфігурація TypeScript
├── eslint.config.mjs          # Конфігурація ESLint
├── vercel.json                # Налаштування для Vercel
└── package.json               # Залежності та скрипти
```

## Архітектура

### Управління станом

Для управління станом використовується Redux Toolkit. Основний state розділений на слайси (slices), кожен з яких відповідає за свою частину даних. Для роботи з API використовується RTK Query, який надає автоматичне кешування, рефетчинг та оптимістичні оновлення.

### Збереження даних

Список міст зберігається у localStorage браузера. При завантаженні додатку відбувається відновлення списку та автоматичне оновлення погодних даних для всіх збережених міст. У випадку помилок при роботі з localStorage передбачена обробка помилок з поверненням порожнього масиву.

### Компоненти

Всі компоненти написані як функціональні з використанням хуків React. Використовується TypeScript для типізації пропсів та стану. Стилі організовані за BEM методологією з використанням SCSS модулів для ізоляції стилів кожного компонента.

### Робота з API

OpenWeatherMap API використовується для отримання актуальних даних про погоду. Реалізовані два основних ендпоінти: отримання поточної погоди та прогнозу на 24 години. RTK Query автоматично обробляє стан завантаження, помилки та кешування відповідей.

### Адаптивність

Додаток адаптований для різних розмірів екранів. Використовується mobile-first підхід з breakpoints для планшетів та десктопів. Всі інтерактивні елементи оптимізовані для сенсорних екранів.

## Розгортання

Проект налаштований для розгортання на Vercel з автоматичним CI/CD через GitHub Actions.

### Розгортання на Vercel

1. Створіть акаунт на vercel.com
2. Підключіть GitHub репозиторій
3. Додайте змінну оточення NEXT_PUBLIC_WEATHER_API_KEY у налаштуваннях проекту
4. Vercel автоматично виконає build та deploy

GitHub Actions автоматично виконують наступні дії:

- Запуск тестів при кожному pull request
- Створення preview deployment для гілок
- Deployment у production при пуші в main гілку

## Доступні команди

```bash
npm run dev          # Запуск dev сервера
npm run build        # Збірка для production
npm start            # Запуск production сервера
npm test             # Запуск тестів
npm run test:watch   # Тести у watch режимі
npm run test:coverage # Звіт про покриття
npm run lint         # Перевірка коду через ESLint
```

## Особливості реалізації

Проект реалізований з урахуванням best practices розробки на React та Next.js. Використовується строга типізація TypeScript, що зменшує кількість потенційних помилок. Код організований модульно з чіткою структурою директорій.

Для тестування використовується підхід з мокуванням зовнішніх залежностей, що дозволяє тестувати компоненти ізольовано. Покриття тестами включає як unit тести для окремих функцій, так і інтеграційні тести для компонентів.

Стилі написані з використанням BEM методології, що полегшує підтримку та масштабування коду. SCSS дозволяє використовувати змінні, міксіни та вкладеність для більш зручної роботи зі стилями.

## Ліцензія

MIT
